<!DOCTYPE html>
<html>
<head>
	<title>UOS | College Of Science</title>

    <meta charset="utf-8" />
    <meta name="desciption" content="dashboard of uos students" />
    <meta name="keywords" content=" dashboard of uos students, uos dashboard, uos platform " />
    <meta name="author" content="404 team" />


    <!-- we hate IE9 <3 -->
    <!-- btw the following lines arent comments! they do work! -->
    <!--[if lt IE 9]>
		    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
			<script src="js/https://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js.js"></script>
	<![endif]-->

    <!-- Lol They dont have an icon in the official website ! shame !-->
    <link rel="icon" type="image/png" href="static/images/logo.png" />
    <!-- <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Sansita" /> -->
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">
    <!-- make sure that the bootstrap css file is the first one so it wont override your own codes !-->
    <link rel="stylesheet" type="text/css" href="static/css/bootstrap.min.css" />

    <!-- using font awsome's icons. check the official webstie !-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- will use it in the future <3 -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css" />

    <link rel="stylesheet" type="text/css" href="static/css/main.css" />
    <script>
        function startTime() {
          var today = new Date();
          var h = today.getHours();
          var m = today.getMinutes();
          var s = today.getSeconds();
          m = checkTime(m);
          s = checkTime(s);
          var date = today.toDateString();
          document.getElementById("clock").innerHTML = "date: " + date + "   time: " +
          h + ":" + m + ":" + s;
          var t = setTimeout(startTime, 500);
        }
        function checkTime(i) {
          if (i < 10) {i = "0" + i};  // add zero in front of numbers < 10
          return i;
        }
    </script>
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-sm navbar-dark bg-success box-shadow">
            <a class="navbar-brand" href="index.html">
                <span>UOS</span> College Of Science </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#houzayfa" aria-controls="houzayfa"
                aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse " id="houzayfa">
          <ul class="navbar-nav ml-auto ">
            <li class="nav-item"><a class="nav-link" href="dashboard.html">Dashboard</a></li>
            <li class="nav-item dropdown"><a class="nav-link" href="#" id="userName"></a></li>
            <li class="nav-item dropdown"><a class="nav-link" href="#" onclick="killStorage();">Logout</a></li>
          </ul>
        </div>
        </nav>
    </header>
    
    <section class="dahsboard-picture"></section>

    <!-- start breadcrumb-->
    <section class="container breadcrumb-main">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="#">Dashbord</a></li>
            <li class="breadcrumb-item"><a href="courses.html">Courses</a></li>
            <!-- <li class="breadcrumb-item" >Web Development</li> -->
          </ol>
        </nav>
    </section>
    <!-- end breadcrumb-->
    <section id="your-courses">
      <div class="container">
        <h2 class="" >Feature Courses</h2>
        <div id="txt"></div>
        <table class="table table-bordered" >       
            
            <thead>
                <th scope="col" id="number"> </th>
                <th scope="col" id="college"></th>
                <th scope="col" id="course_name"></th>
                <th scope="col" id="course_number"></th>
                <th scope="col" id="instructor"></th>
                <th scope="col" id="start"></th>
                <th scope="col" id="end"></th>
                <th scope="col" id="status"></th>
            </thead>

            <tbody id="tbodyTable">                
            </tbody>

        </table>
        </div>
    </section>

    <section id="voting-system">
        <div class="container">
            <h3>Vote to your best doctor ~_~</h3>
            <form> 
            <label class="content" > DR. Manar</label><input type="radio" name="vote" value="DR. Manar"/>
            <label class="content" > DR. Ahmad</label><input type="radio" name="vote" value="DR. Ahmad"/>
            <label class="content" > DR. Ashraf</label><input type="radio" name="vote" value="DR. Ashraf"/>
            <label class="content" > DR. Nasr</label><input type="radio" name="vote" value="DR. Nasr"/>
            <!-- notice that i am using input type="button" and not just button cause i dont want the page to be reload -->
            <input type="button" name="submitvalue" value="vote now" onclick="poll()" />
            </form>
            <h5>Check Results</h5>
            <p id="dr_manar"></p>
            <p id="dr_ahmad"></p>
            <p id="dr_ashraf"></p>
            <p id="dr_nasr"></p>
            <p id="total_voters"></p>
        </div>
    </section>

   <!-- Start Footer -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-12 col-xs-12 copyright">
                    <h6> University Of Sharjah &copy; 2018. Made With <i class="fa fa-heart"></i> By <span class="four-404">
                       404 
                   </span>
                   <span id="clock"></span>
               </h6>
                </div>
            </div>
        </div>
    </footer>

    <!-- End Footer-->



<script src="static/js/jquery.min.js"></script>
<script src="static/js/bootstrap.min.js"></script>
<script src="static/js/main.js"></script>
<script>
    window.onload =  function() {
        // display the time in the web page 


        // localstorage ? let him in and diplay the username : redirect him ;

        var username = localStorage.getItem("UserInfo") ; 
        
        if(username == "" || username ==  null ) {
            document.write("<h1> It looks like you are not authorized to access this page </h1>"); 
            document.write("<p>You will be redirected to enter your username and your password </p>");
            redirect();
        }else {
            document.getElementById("userName").innerHTML  = username; 
        }



        // loading the titles of the table when the page loads
        var tableTitle = ["Number", "College", "Course Name", "Course Number", "Instructor", "Start Date", "End Date", "Status"] ; 
        document.getElementById("number").innerHTML = tableTitle[0];
        document.getElementById("college").innerHTML = tableTitle[1];
        document.getElementById("course_name").innerHTML = tableTitle[2];
        document.getElementById("course_number").innerHTML = tableTitle[3];
        document.getElementById("instructor").innerHTML = tableTitle[4];
        document.getElementById("start").innerHTML = tableTitle[5];
        document.getElementById("end").innerHTML = tableTitle[6];
        document.getElementById("status").innerHTML = tableTitle[7];  

        // start inserting the courses 
        insertCourse("Computer Science", "Web Development", "104", "Dr. Manar", "11/01/2019", "11/04/2019", "Enrol Now");
        insertCourse("Computer Science", "Information Security", "130", "Djedjiga Mouheb", "04/01/2019", "04/04/2019", "Enrol Now");
        insertCourse("Chemistry", "General Chemistry", "101", "Mohamed El-Naggar", "07/01/2019", "07/04/2019", "Enrol Now");
        insertCourse("Mathematics", "Calculus I", "131", "Imad Shadid", "10/01/2019", "10/04/2019", "Enrol Now");
        insertCourse("Physics", "Physics I for sciences", "124", "Mounir Kaidi", "13/01/2019", "13/04/2019", "Enrol Now");
        insertCourse("Biotechnology", "General Biology 1", "110", " Ihsan Ali Mahasneh", "05/01/2019", "05/04/2019", "Enrol Now");


        startTime();
    }
</script>
<script>
    // working as a global variables so it wont start from zero every time we click the botton
    var dr_manar = 0 ; 
    var dr_ashraf = 0 ; 
    var dr_nasr = 0 ; 
    var dr_ahmad = 0 ;
    var number_of_voters = 0 ; 

    function poll() {

        // initializing all the values with zeros
        // variables go here!
        var value = document.querySelector('input[name="vote"]:checked').value;

        // check the value of the passed argument!
        if (value == "DR. Manar"){
            number_of_voters +=1 ;
            dr_manar +=1 ; 
        }
        else if( value == "DR. Ahmad"){
            dr_ahmad += 1 ;
            number_of_voters +=1 ;
        }
        else if ( value == "DR. Ashraf"){
            dr_ashraf += 1 ;
            number_of_voters +=1 ;
        }
        else if ( value == "DR. Nasr"){
            number_of_voters +=1 ;
            dr_nasr +=1 ; 
        }
        document.getElementById("dr_manar").innerHTML = "Dr. Manar: " + dr_manar;
        document.getElementById("dr_ashraf").innerHTML = "DR. Ashraf: " +  dr_ashraf;
        document.getElementById("dr_ahmad").innerHTML = "DR. Ahmad: " + dr_ahmad;
        document.getElementById("dr_nasr").innerHTML = "DR. Nasr: " + dr_nasr;
        document.getElementById("total_voters").innerHTML = "tatal voters: " + number_of_voters;
    }  
</script>
<script>
    // a function to add a course to the table
    // written by houzayfa rifai 3/12/2018
        function insertCourse( college, course_name, course_number, instructor, start, end, status ) {
        // these 2 variables are meant to clear the spaces from pyhiscs 1 for science and general bio 1
        // and then i am using clear_course_name2 in the href
        var clear_course_name1 = course_name.replace(" ", ""); 
        var clear_course_name2 = clear_course_name1.replace(" ", "");  
        var tbody = document.getElementById("tbodyTable") ; 
        var trNumber = tbody.childElementCount; // 7 
        var tr = document.createElement('tr');
        var th = document.createElement("th") ;
        th.setAttribute("scope", "row"  );
        th.innerHTML = trNumber + 1 ;
        tr.appendChild(th);
        // create 7 td
        for(var i = 0 ; i < 7 ; i++ ) {
            var td = document.createElement("td");
            if(i === 0 )
                td.innerHTML = college ;
            else if ( i === 1 )
                td.innerHTML = course_name ;
            else if ( i === 2 ) 
                td.innerHTML = course_number;
            else if ( i === 3 )
                td.innerHTML = instructor;
            else if ( i === 4 )
                td.innerHTML = start ; 
            else if ( i === 5 )
                td.innerHTML = end;
            else if ( i === 6 )
                td.innerHTML = `<a href="${clear_course_name2.replace(" ", "")}.html" style="color:#b1040e !important;">${status}</a>` ; 
            tr.appendChild(td);
        }
        // add the new tr to the table 
        tbody.appendChild(tr);
    }
</script>
<script>
    // redirect function will get the link of the current page and redirect 
    // the user to the login page if he is not authanticated .
    function redirect() {
        setTimeout(function(){  
                var currentPage = window.location.href; 
                var login   = currentPage.replace("dashboard.html", "login.html"); 
                window.location.href = login ;
            }, 4000 );
    }
</script>
<script>
    // clear the local storage 
    // will be fired when logout will be clicked
    function killStorage() {
        localStorage.clear();
        redirect();
    }
</script>
</body>
</html>
